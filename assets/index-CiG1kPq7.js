(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function i(n){return document.querySelector(n)}class f{set setTheme(e){try{localStorage.setItem("theme",JSON.stringify({theme:e}))}catch(t){logger.setError=`Error setting local storage, ${t.message}`}}get getTheme(){try{return JSON.parse(localStorage.getItem("theme")).theme}catch(e){logger.setError=`Error retrieving from local storage ${e.message}`}}}const c=new f;class y{#e;#t=i(".error-container");constructor(){this.#e=[]}log(){if(this.#e.length){const e=document.createElement("ul");e.classList.add("error-list"),this.#e.forEach(t=>{const o=document.createElement("li");o.textContent=t,e.appendChild(o)}),this.#t.prepend(e);return}this.#t.style.display="none"}dismiss(){this.#e=[],this.#t.style.display="none"}set setError(e){this.#e.push(e)}}const l=new y;class p{#e;constructor(e,t){try{if(!e)throw new Error("Audio path is required.");this.#e=new Audio(e)}catch(o){t.setError=`Error initializing audio, ${o.message}`}}playSound(){this.#e&&(this.#e?.play(),this.#e.loop=!0)}pauseSound(){this.#e&&this.#e.pause()}}const h=new p("assets/tick-tock.wav",l);class m{toggleElement(e){if(e){const t=e?.style.visibility==="visible";e.style.visibility=t?"hidden":"visible",e.style.animationName=t?"fade-out":"fade-in"}}toggleTheme(e){document.documentElement.setAttribute("data-theme",e)}toggleText(e,t,o){const s=i(t);s.textContent=e?o[0]:o[1]}}const{toggleElement:d,toggleTheme:g,toggleText:u}=new m;class b extends m{constructor(){super(),this.btnBox=i(".switches-container"),this.settings=i(".setting-icon"),this.closedIcon=i(".close"),this.initializeListeners()}initializeListeners(){["load","click"].forEach(e=>{window.addEventListener(e,t=>{e==="load"&&c.getTheme&&c.getTheme!=="light"&&(g(c.getTheme),i("#color-checkbox").checked=!0),e==="click"&&this.btnBox.style.visibility==="visible"&&!this.btnBox.closest(".setting-container").contains(t.target)&&d(this.btnBox)})}),this.btnBox.addEventListener("change",e=>{const t=e.target.checked;if(e.target.classList.contains("sound-checkbox")&&(t?h.playSound():h.pauseSound(),u(t,'label[for="sound-checkbox"]',["Sound On","Sound Off"])),e.target.classList.contains("color-checkbox")){const o=t?"dark":"light";g(o),u(t,'label[for="color-checkbox"]',["Dark Mode","Light Mode"]),c.setTheme=o}}),this.settings.addEventListener("click",()=>{d(this.btnBox)}),this.closedIcon.addEventListener("click",()=>{logger.dismiss()})}}class E{#e;#t;#o;#r;#i;#n;#c={x:.5,y:3.5};constructor(){this.#r=i("#secHand"),this.#i=i("#minHand"),this.#n=i("#hourHand"),this.rotateHands()}#a(){const e=new Date,t=e.getSeconds(),o=e.getMinutes(),s=e.getHours()%12||12;this.#e=t*6,this.#t=o*6+t/10,this.#o=s*30+o/2+t/120}#s(e,t){const{x:o,y:s}=this.#c;try{e.setAttribute("transform",`rotate(${t}, ${o}, ${s})`)}catch(r){l.setError=`Error rotating clock hand, ${r.message}`}}rotateHands(){this.#a(),this.#s(this.#r,this.#e),this.#s(this.#i,this.#t),this.#s(this.#n,this.#o)}}const x=new E;setInterval(()=>x.rotateHands(),1e3);new b;l.log();
